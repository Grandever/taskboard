<task-form
  [taskToEdit]="selectedTask"
  (taskAdded)="onTaskAdded($event)"
  (taskUpdated)="onTaskUpdated($event)"
></task-form>
<div class="board-grid">
  <!-- Loop through Columns -->
  <div
    class="column highlighted" *ngFor="let column of columns"
    (dragover)="onDragOver($event)"
    (drop)="onDrop(column.name, $event)"
  >
    <div class="column-header">
      <span><i class="fas fa-{{ column.icon }} me-2"></i>{{ column.title }}</span>
      <span class="task-count">{{ column.tasks.length }}</span>
    </div>

    <!-- Display Tasks -->
    <div
      *ngFor="let task of column.tasks"
      class="task-card"
      draggable="true"
      (dragstart)="onDragStart(task)"
      (dragend)="onDragEnd()"
      (dblclick)="editTask(task)"
      [routerLink]="['/task', task.id]"
      style="border: #00b8d9 1px solid;"
      (click)="logTaskClick(task)"

    >
      <div class="task-title">{{ task.title }}</div>
      <div class="task-meta">
        <span>Priority: {{ task.priority | titlecase }}</span>
        <span>Due: {{ task.due_date || 'None' }}</span>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="column.tasks.length === 0" class="empty-placeholder">
      <i>No tasks available</i>
    </div>
  </div>
</div>
